<!DOCTYPE html>
<html>
  <head>
    <title>OpenExonaut - Forgotten Password</title>

    <script type="text/javascript" src="js/jquery.min.js"></script>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <script defer type="text/javascript" src="js/bootstrap.bundle.min.js"></script>

    <style>
        body {
          display: -ms-flexbox;
          display: flex;
          -ms-flex-align: center;
          align-items: center;
          padding-top: 40px;
          padding-bottom: 40px;
          background-image: url('bg3.png');
          height:100vh;
          background-size: cover;
        }
        .form-login {
          width: 100%;
          max-width: 330px;
          padding: 15px;
          margin: auto;
        }
        .form-login .checkbox {
          font-weight: 400;
        }
        .form-login .form-control {
          position: relative;
          box-sizing: border-box;
          height: auto;
          padding: 10px;
          font-size: 16px;
        }
        .form-login .form-control:focus {
          z-index: 2;
        }
        .form-login input[type="email"] {
          margin-bottom: 10px;
          border-top-left-radius: 0;
          border-top-right-radius: 0;
        }
      </style>
  </head>
  <body>
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script defer type="text/javascript" src="js/bootstrap.bundle.min.js"></script>

    <script>
      const sent = window.location.search.includes('sent');
      const failed = window.location.search.includes('failed');
      if (sent) window.alert("Reset email sent, if such an account exists. It expires in one day. Be sure to check spam too.");
      else if (failed) window.alert("Failed to send reset email.");
    </script>

    <div class="container" style="width: 24rem;">
      <div class="card text-center">
        <form class="form-login" id="form" action="/auth/recovery" method="post">
          <img class="mb-4" src="favicon.ico" alt="" width="128" height="128">
          <h1 class="h3 mb-3 font-weight-normal">Email Recovery</h1>

          <input type="text" id="username" class="form-control" placeholder="Username" name="username" required autofocus onkeypress="return blockSpecialChar(event)">
          <input type="email" id="email" class="form-control" placeholder="Email Address" name="email" required>
          <button class="btn btn-lg btn-primary btn-block" type="submit">Submit</button>
          <p class="mt-3 text-muted">Remembered your credentials? <a href="/login">Login</a></p>
          <p class="mt-3 text-muted">Also forgot your username? <a href="/usernames">Recover usernames</a></p>
        </form>
      </div>
    </div>
  </body>
</html>
